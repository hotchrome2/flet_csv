# æ©Ÿèƒ½ä»•æ§˜æ›¸ï¼ˆå…¨ä½“ï¼‰

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€flet-csvã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨å…±é€šãƒ«ãƒ¼ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚
**å„å±¤ã®è©³ç´°ä»•æ§˜ã¯ã€å€‹åˆ¥ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚**

---

## ğŸ“š ä»•æ§˜æ›¸ã®æ§‹æˆ

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | å†…å®¹ | å¯¾å¿œã™ã‚‹ãƒ†ã‚¹ãƒˆ | çŠ¶æ…‹ |
|------------|------|--------------|------|
| **03_specification.md**ï¼ˆæœ¬æ›¸ï¼‰ | å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€å…±é€šãƒ«ãƒ¼ãƒ« | - | âœ… å®Œæˆ |
| **04_domain_specification.md** | Domainå±¤ã®è©³ç´°ä»•æ§˜ | `tests/unit/domain/**` | âœ… å®Œæˆ |
| **05_infrastructure_specification.md** | Infrastructureå±¤ã®è©³ç´°ä»•æ§˜ | `tests/unit/infra/**` | âœ… å®Œæˆ |
| **08_usecase_specification.md** | UseCaseå±¤ã®è©³ç´°ä»•æ§˜ | `tests/unit/usecase/**` | âœ… å®Œæˆ |
| **09_cli_specification.md** | CLIã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã®è©³ç´°ä»•æ§˜ | `tests/e2e/**` | âœ… å®Œæˆ |

---

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### 1.1 ç›®çš„

è¤‡æ•°ã®æ™‚ç³»åˆ—CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’çµåˆã—ã€1ã¤ã®CSVãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦å‡ºåŠ›ã™ã‚‹ã€‚

### 1.2 ä¸»è¦æ©Ÿèƒ½

1. **CSVãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿**
   - å¤šæ§˜ãªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«å¯¾å¿œï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼æœ‰ç„¡ã€æ–‡å­—ã‚³ãƒ¼ãƒ‰ãªã©ï¼‰
   - ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•æ­£è¦åŒ–

2. **ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼**
   - æ—¥æ™‚ã®å¦¥å½“æ€§ãƒã‚§ãƒƒã‚¯
   - è©³ç´°ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ç”Ÿæˆ

3. **CSVçµåˆ**
   - è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®çµåˆ
   - æ™‚ç³»åˆ—é †ã‚½ãƒ¼ãƒˆ
   - é‡è¤‡æ¤œå‡º

4. **CSVãƒ•ã‚¡ã‚¤ãƒ«ã®å‡ºåŠ›**
   - UTF-8ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
   - çµ±ä¸€ã•ã‚ŒãŸãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

---

## 2. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### 2.1 ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Presentation Layer (UI)          â”‚  â† å°†æ¥å®Ÿè£…
â”‚              (Flet)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        UseCase Layer                    â”‚  âœ… å®Œæˆ
â”‚    (merge_csv_files.py)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        Domain Layer                     â”‚  âœ… å®Œæˆ
â”‚    (models, services, exceptions)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        Infrastructure Layer             â”‚  âœ… å®Œæˆ
â”‚    (repositories)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ä¾å­˜é–¢ä¿‚ã®ãƒ«ãƒ¼ãƒ«

- **å¤–å´ã®å±¤ã¯å†…å´ã®å±¤ã«ä¾å­˜ã§ãã‚‹**
- **å†…å´ã®å±¤ã¯å¤–å´ã®å±¤ã«ä¾å­˜ã—ã¦ã¯ã„ã‘ãªã„**

```
Presentation â†’ UseCase â†’ Domain â† Infrastructure
```

### 2.3 ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è²¬å‹™

#### Domainå±¤ï¼ˆãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼‰
- **Models**: ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¨å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
- **Services**: ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆçµåˆãƒ­ã‚¸ãƒƒã‚¯ï¼‰
- **Exceptions**: ãƒ‰ãƒ¡ã‚¤ãƒ³å›ºæœ‰ã®ä¾‹å¤–

**è©³ç´°**: [04_domain_specification.md](./04_domain_specification.md)

#### Infrastructureå±¤ï¼ˆå¤–éƒ¨ä¾å­˜ï¼‰
- **Repositories**: ãƒ•ã‚¡ã‚¤ãƒ«I/Oã€ãƒ‡ãƒ¼ã‚¿ã®æ­£è¦åŒ–

**è©³ç´°**: [05_infrastructure_specification.md](./05_infrastructure_specification.md)

#### UseCaseå±¤ï¼ˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ï¼‰
- è¤‡æ•°ã®å±¤ã‚’çµ„ã¿åˆã‚ã›ãŸãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹
- CSVçµåˆã®ä¸€é€£ã®å‡¦ç†ã‚’çµ±æ‹¬

**è©³ç´°**: [08_usecase_specification.md](./08_usecase_specification.md)

#### Presentationå±¤ï¼ˆUIï¼‰
- Fletã‚’ä½¿ç”¨ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- **æœªå®Ÿè£…**ï¼ˆUIãƒãƒ¼ãƒ æ‹…å½“ï¼‰

---

## 3. å…±é€šãƒ‡ãƒ¼ã‚¿æ§‹é€ 

### 3.1 CSVã‚¹ã‚­ãƒ¼ãƒ

ã™ã¹ã¦ã®CSVãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ä»¥ä¸‹ã®7åˆ—ã‚’å«ã¿ã¾ã™ï¼š

| åˆ—å | ãƒ‡ãƒ¼ã‚¿å‹ | èª¬æ˜ |
|------|---------|------|
| No | int | ãƒ‡ãƒ¼ã‚¿ç•ªå· |
| æ—¥æ™‚ | datetime_string | YYYY/MM/DD HH:00:00 å½¢å¼ |
| é›»åœ§ | int | é›»åœ§å€¤ |
| å‘¨æ³¢æ•° | int | å‘¨æ³¢æ•°å€¤ |
| ãƒ‘ãƒ¯ãƒ¼ | int | ãƒ‘ãƒ¯ãƒ¼å€¤ |
| å·¥äº‹ãƒ•ãƒ©ã‚° | int | 0 ã¾ãŸã¯ 1 |
| å‚ç…§ | int | 0 ã¾ãŸã¯ 1 |

**è©³ç´°**: [04_domain_specification.md](./04_domain_specification.md#1-csvã‚¹ã‚­ãƒ¼ãƒä»•æ§˜)

---

## 4. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥

### 4.1 ä¾‹å¤–éšå±¤

```
CsvMergerErrorï¼ˆåŸºåº•ä¾‹å¤–ï¼‰
â”œâ”€â”€ InvalidCsvFormatErrorï¼ˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¸æ­£ï¼‰
â”œâ”€â”€ CsvFileNotFoundErrorï¼ˆãƒ•ã‚¡ã‚¤ãƒ«æœªå­˜åœ¨ï¼‰
â”œâ”€â”€ MergeErrorï¼ˆçµåˆã‚¨ãƒ©ãƒ¼ï¼‰
â””â”€â”€ EmptyDataErrorï¼ˆãƒ‡ãƒ¼ã‚¿ç©ºï¼‰
```

### 4.2 ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¨­è¨ˆåŸå‰‡

1. **å…·ä½“æ€§**: ä½•ãŒå•é¡Œã‹ã‚’æ˜ç¢ºã«
2. **å ´æ‰€ã®ç‰¹å®š**: ãƒ•ã‚¡ã‚¤ãƒ«åã€è¡Œç•ªå·ã‚’å«ã‚€
3. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼**: é–‹ç™ºè€…ã§ãªãã¦ã‚‚ç†è§£ã§ãã‚‹
4. **ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æŒ‡å‘**: ã©ã†ã™ã‚Œã°è§£æ±ºã§ãã‚‹ã‹ã®ãƒ’ãƒ³ãƒˆ

**è‰¯ã„ä¾‹**:
```
invalid_dates.csv: ä¸æ­£ãªæ—¥æ™‚ãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸï¼ˆ3è¡Œç›®ã€5è¡Œç›®ã‹ã‚‰6è¡Œç›®ã€8è¡Œç›®ï¼‰
```

**æ‚ªã„ä¾‹**:
```
ValueError: invalid literal for int() with base 10
```

**è©³ç´°**: [04_domain_specification.md](./04_domain_specification.md#5-ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°)

---

## 5. TDDé–‹ç™ºãƒ•ãƒ­ãƒ¼

### 5.1 åŸºæœ¬ãƒ•ãƒ­ãƒ¼

```
[ä»•æ§˜ç¢ºèª] â†’ [Red] â†’ [Green] â†’ [Refactor] â†’ [ä»•æ§˜æ›¸æ›´æ–°] â†’ [ãƒ¬ãƒ“ãƒ¥ãƒ¼]
     â†“
è©²å½“ã™ã‚‹ä»•æ§˜æ›¸ã‚’å‚ç…§
```

### 5.2 ä»•æ§˜æ›¸ã®é¸ã³æ–¹

| å®Ÿè£…å¯¾è±¡ | å‚ç…§ã™ã‚‹ä»•æ§˜æ›¸ |
|---------|--------------|
| Domainå±¤ã®ãƒ¢ãƒ‡ãƒ«ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ | `04_domain_specification.md` |
| Infrastructureå±¤ã®ãƒªãƒã‚¸ãƒˆãƒª | `05_infrastructure_specification.md` |
| UseCaseå±¤ | `06_usecase_specification.md`ï¼ˆå°†æ¥ï¼‰ |
| å…¨ä½“çš„ãªãƒ«ãƒ¼ãƒ«ãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ | `03_specification.md`ï¼ˆæœ¬æ›¸ï¼‰ |

---

## 6. ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

### 6.1 Pythonæ¨™æº–

- **PEP 8æº–æ‹ **ï¼ˆblack ã§è‡ªå‹•æ•´å½¢ï¼‰
- **å‹ãƒ’ãƒ³ãƒˆå¿…é ˆ**ï¼ˆPython 3.13å½¢å¼ã€mypy ã§ãƒã‚§ãƒƒã‚¯ï¼‰
- **importé †åº**ï¼ˆisort ã§çµ±ä¸€ï¼‰

### 6.2 å‹ãƒ’ãƒ³ãƒˆ

```python
# Python 3.13å½¢å¼ã‚’ä½¿ç”¨
def load(self, file_path: str | Path) -> CsvFile:  # âœ…
def load(self, file_path: Union[str, Path]) -> CsvFile:  # âŒ å¤ã„

def merge(self, files: list[CsvFile]) -> CsvFile:  # âœ…
def merge(self, files: List[CsvFile]) -> CsvFile:  # âŒ å¤ã„
```

### 6.3 Docstrings

Googleå½¢å¼ã‚’ä½¿ç”¨ï¼š

```python
def merge(self, csv_files: list[CsvFile]) -> CsvFile:
    """è¤‡æ•°ã®CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’1ã¤ã«çµåˆ
    
    Args:
        csv_files: çµåˆã™ã‚‹CSVãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒªã‚¹ãƒˆ
        
    Returns:
        çµåˆå¾Œã®æ–°ã—ã„CsvFileã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
        
    Raises:
        ValueError: ç©ºãƒªã‚¹ãƒˆãŒæ¸¡ã•ã‚ŒãŸå ´åˆ
        MergeError: æ—¥æ™‚ã®é‡è¤‡ãŒã‚ã‚‹å ´åˆ
    """
```

---

## 7. ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### 7.1 ãƒ†ã‚¹ãƒˆã®ç¨®é¡

| ãƒ†ã‚¹ãƒˆç¨®åˆ¥ | å¯¾è±¡ | ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª |
|-----------|------|------------|
| **å˜ä½“ãƒ†ã‚¹ãƒˆ** | å„ã‚¯ãƒ©ã‚¹ãƒ»é–¢æ•°ã®å‹•ä½œ | `tests/unit/` |
| **çµ±åˆãƒ†ã‚¹ãƒˆ** | è¤‡æ•°ã®ã‚¯ãƒ©ã‚¹ã®é€£æº | `tests/integration/`ï¼ˆå°†æ¥ï¼‰ |
| **E2Eãƒ†ã‚¹ãƒˆ** | ã‚¢ãƒ—ãƒªå…¨ä½“ã®å‹•ä½œ | `tests/e2e/`ï¼ˆå°†æ¥ï¼‰ |

### 7.2 ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™

- **å˜ä½“ãƒ†ã‚¹ãƒˆ**: 100%ï¼ˆDomainå±¤ãƒ»Infrastructureå±¤ï¼‰
- **çµ±åˆãƒ†ã‚¹ãƒˆ**: ä¸»è¦ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’ã‚«ãƒãƒ¼
- **E2Eãƒ†ã‚¹ãƒˆ**: ãƒãƒƒãƒ”ãƒ¼ãƒ‘ã‚¹ã¨ä¸»è¦ãªã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹

### 7.3 ãƒ†ã‚¹ãƒˆãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£

å…±é€šã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã¯ `tests/fixtures/` ã«é…ç½®ï¼š

```
tests/fixtures/
â””â”€â”€ csv/
    â”œâ”€â”€ full_format.csv          # å®Œå…¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
    â”œâ”€â”€ no_column_missing.csv    # Noåˆ—ãªã—
    â”œâ”€â”€ no_header.csv            # ãƒ˜ãƒƒãƒ€ãƒ¼ãªã—
    â”œâ”€â”€ shift_jis.csv            # Shift-JIS
    â”œâ”€â”€ quoted.csv               # ã‚¯ã‚©ãƒ¼ãƒˆä»˜ã
    â”œâ”€â”€ wrong_order.csv          # ã‚«ãƒ©ãƒ é †åºé•ã„
    â””â”€â”€ invalid_dates.csv        # ä¸æ­£ãªæ—¥æ™‚
```

---

## 8. å°†æ¥ã®æ‹¡å¼µæ€§

### 8.1 ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›´ã¸ã®å¯¾å¿œ

**ç¾åœ¨**: `YYYY/MM/DD HH:00:00`

**å¯¾å¿œæ¸ˆã¿**:
- âœ… `pd.to_datetime()` ã§è‡ªå‹•ãƒ‘ãƒ¼ã‚¹
- âœ… datetimeå‹ã§ã‚½ãƒ¼ãƒˆ

**å°†æ¥ã®å¤‰æ›´ä¾‹**:
- `DD/MM/YYYY HH:00:00`
- `YYYY-MM-DD HH:00:00`
- ISO 8601å½¢å¼

### 8.2 ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ã®æ‹¡å¼µ

ç¾åœ¨ã¯æ—¥æ™‚ã®ã¿æ¤œè¨¼ã—ã¦ã„ã¾ã™ãŒã€åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã§æ‹¡å¼µå¯èƒ½ï¼š

```python
# å°†æ¥ã®æ‹¡å¼µä¾‹
def _validate_data(self, df: pd.DataFrame, file_name: str) -> None:
    self._validate_datetime_column(df, file_name)
    self._validate_voltage_column(df, file_name)  # NEW
    self._validate_flag_columns(df, file_name)    # NEW
```

### 8.3 æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿å‹ã¸ã®å¯¾å¿œ

ç¾åœ¨ã®7åˆ—ã‹ã‚‰æ‹¡å¼µã™ã‚‹å ´åˆï¼š

1. `CsvSchema.REQUIRED_COLUMNS` ã«è¿½åŠ 
2. `CsvSchema.COLUMN_TYPES` ã§å‹ã‚’å®šç¾©
3. æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¿½åŠ ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
4. ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
5. ä»•æ§˜æ›¸ã‚’æ›´æ–°

---

## 9. UIãƒãƒ¼ãƒ å‘ã‘ã‚¬ã‚¤ãƒ‰

### 9.1 APIæ¦‚è¦

#### åŸºæœ¬çš„ãªä½¿ã„æ–¹

```python
from infra.repositories.csv_repository import CsvRepository
from domain.services.csv_merger import CsvMerger

# ãƒªãƒã‚¸ãƒˆãƒªã¨ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆæœŸåŒ–
repository = CsvRepository()
merger = CsvMerger()

# CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€
csv_files = []
for path in file_paths:
    csv_file = repository.load(path)
    csv_files.append(csv_file)

# çµåˆã™ã‚‹
result = merger.merge(csv_files)

# ä¿å­˜ã™ã‚‹
repository.save(result, "static/downloads")
```

### 9.2 ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

```python
from domain.exceptions import (
    InvalidCsvFormatError,
    CsvFileNotFoundError,
    MergeError,
    CsvMergerError,
)

try:
    csv_file = repository.load(path)
except CsvFileNotFoundError as e:
    # ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“
    show_error_dialog(f"ã‚¨ãƒ©ãƒ¼: {e}")
except InvalidCsvFormatError as e:
    # ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒä¸æ­£ã§ã™ï¼ˆè©³ç´°ãªè¡Œç•ªå·æƒ…å ±ã‚ã‚Šï¼‰
    show_error_dialog(f"ã‚¨ãƒ©ãƒ¼: {e}")
except CsvMergerError as e:
    # ãã®ä»–ã®ã‚¨ãƒ©ãƒ¼
    show_error_dialog(f"ã‚¨ãƒ©ãƒ¼: {e}")
```

### 9.3 ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤º

```python
total_files = len(file_paths)

# èª­ã¿è¾¼ã¿ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆ0% - 70%ï¼‰
for i, path in enumerate(file_paths):
    progress = int((i + 1) / total_files * 70)
    update_progress(progress, f"èª­ã¿è¾¼ã¿ä¸­: {path}")
    csv_file = repository.load(path)
    csv_files.append(csv_file)

# çµåˆãƒ•ã‚§ãƒ¼ã‚ºï¼ˆ70% - 90%ï¼‰
update_progress(80, "çµåˆä¸­...")
result = merger.merge(csv_files)

# ä¿å­˜ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆ90% - 100%ï¼‰
update_progress(95, "ä¿å­˜ä¸­...")
output_path = repository.save(result, "static/downloads")
update_progress(100, "å®Œäº†!")
```

**è©³ç´°ãªAPIä»•æ§˜ã¯å„å±¤ã®ä»•æ§˜æ›¸ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚**

---

## å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å¤‰æ›´å†…å®¹ |
|------|-----------|---------|
| 2025-10-19 | 1.1.0 | ä»•æ§˜æ›¸ã‚’éšå±¤åŒ– - å…¨ä½“ä»•æ§˜ã¨è©³ç´°ä»•æ§˜ã‚’åˆ†é›¢ |
| 2025-10-19 | 1.0.0 | åˆç‰ˆä½œæˆ - å…¨æ©Ÿèƒ½ã®ä»•æ§˜ã‚’çµ±åˆ |
